@page "/Posts/post/{id:guid}"
@model Devblog.Pages.Posts.PostModel
@using Devblog.Domain.Model
@{
    ViewData["Title"] = "Post";
}

<h2 class="mt-4">@Model.Post.Title</h2>
<p class="text-muted">Author: @Model.Post.Author.Fullname</p>
<p class="text-muted">Reference: @Model.Post.Reference</p>

@if (Model.Post is BlogPost blogPost)
{
    <p class="mt-3"><strong>Content:</strong> @blogPost.Weblog</p>
}
else if (Model.Post is Project project)
{
    <p class="mt-3"><strong>Content:</strong> @project.Description</p>
}

@if (Model.Post.Author.Email == Model.Email)
{
    <form method="post" asp-page-handler="Delete" class="mt-4">
        <button type="submit" class="btn btn-danger">Delete Post</button>
    </form>
}
